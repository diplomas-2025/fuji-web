{"ast":null,"code":"import _objectSpread from\"/Users/danilabelakov/WebstormProjects/fuji-web/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React from'react';import axios from'axios';import Card from'../components/Card';import AppContext from'../context';import{API_BASE_URL}from\"./AuthPage\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Orders(){const{onAddToFavorite,onAddToCart}=React.useContext(AppContext);const[orders,setOrders]=React.useState([]);const[isLoading,setIsLoading]=React.useState(true);React.useEffect(()=>{(async()=>{try{const{data}=await axios.get(API_BASE_URL+'/foods/orders',{headers:{'Authorization':'Bearer '+localStorage.getItem('access_token')}});setOrders(data);setIsLoading(false);}catch(error){alert('Ошибка при запросе заказов');console.error(error);}})();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"content p-40\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"d-flex align-center justify-between mb-40\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"\\u041C\\u043E\\u0438 \\u0437\\u0430\\u043A\\u0430\\u0437\\u044B\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex flex-wrap\",children:orders.map(item=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"text\",{style:{},children:[item.address,\" (\",item.status,\", \",item.date,\")\"]}),/*#__PURE__*/_jsx(\"div\",{style:{height:\"30px\"}}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex flex-wrap\",children:item.orders.map((item,index)=>/*#__PURE__*/_jsx(Card,_objectSpread({loading:isLoading},item.food),index))})]}))})]});}export default Orders;","map":{"version":3,"names":["React","axios","Card","AppContext","API_BASE_URL","jsx","_jsx","jsxs","_jsxs","Orders","onAddToFavorite","onAddToCart","useContext","orders","setOrders","useState","isLoading","setIsLoading","useEffect","data","get","headers","localStorage","getItem","error","alert","console","className","children","map","item","style","address","status","date","height","index","_objectSpread","loading","food"],"sources":["/Users/danilabelakov/WebstormProjects/fuji-web/src/pages/Orders.jsx"],"sourcesContent":["import React from 'react';\nimport axios from 'axios';\n\nimport Card from '../components/Card';\nimport AppContext from '../context';\nimport {API_BASE_URL} from \"./AuthPage\";\n\nfunction Orders() {\n  const { onAddToFavorite, onAddToCart } = React.useContext(AppContext);\n  const [orders, setOrders] = React.useState([]);\n  const [isLoading, setIsLoading] = React.useState(true);\n\n  React.useEffect(() => {\n    (async () => {\n      try {\n        const { data } = await axios.get(API_BASE_URL + '/foods/orders', {\n          headers: {\n            'Authorization': 'Bearer ' + localStorage.getItem('access_token')\n          }\n        });\n        setOrders(data);\n        setIsLoading(false);\n      } catch (error) {\n        alert('Ошибка при запросе заказов');\n        console.error(error);\n      }\n    })();\n  }, []);\n\n  return (\n    <div className=\"content p-40\">\n      <div className=\"d-flex align-center justify-between mb-40\">\n        <h1>Мои заказы</h1>\n      </div>\n\n      <div className=\"d-flex flex-wrap\">\n        {orders.map(item => (\n            <div>\n              <text style={{}}>{item.address} ({item.status}, {item.date})</text>\n              <div style={{height: \"30px\"}}/>\n              <div className=\"d-flex flex-wrap\">\n                {item.orders.map((item, index) => (\n                    <Card key={index} loading={isLoading} {...item.food} />\n                ))}\n              </div>\n            </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default Orders;\n"],"mappings":"mIAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,KAAK,KAAM,OAAO,CAEzB,MAAO,CAAAC,IAAI,KAAM,oBAAoB,CACrC,MAAO,CAAAC,UAAU,KAAM,YAAY,CACnC,OAAQC,YAAY,KAAO,YAAY,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAExC,QAAS,CAAAC,MAAMA,CAAA,CAAG,CAChB,KAAM,CAAEC,eAAe,CAAEC,WAAY,CAAC,CAAGX,KAAK,CAACY,UAAU,CAACT,UAAU,CAAC,CACrE,KAAM,CAACU,MAAM,CAAEC,SAAS,CAAC,CAAGd,KAAK,CAACe,QAAQ,CAAC,EAAE,CAAC,CAC9C,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGjB,KAAK,CAACe,QAAQ,CAAC,IAAI,CAAC,CAEtDf,KAAK,CAACkB,SAAS,CAAC,IAAM,CACpB,CAAC,SAAY,CACX,GAAI,CACF,KAAM,CAAEC,IAAK,CAAC,CAAG,KAAM,CAAAlB,KAAK,CAACmB,GAAG,CAAChB,YAAY,CAAG,eAAe,CAAE,CAC/DiB,OAAO,CAAE,CACP,eAAe,CAAE,SAAS,CAAGC,YAAY,CAACC,OAAO,CAAC,cAAc,CAClE,CACF,CAAC,CAAC,CACFT,SAAS,CAACK,IAAI,CAAC,CACfF,YAAY,CAAC,KAAK,CAAC,CACrB,CAAE,MAAOO,KAAK,CAAE,CACdC,KAAK,CAAC,4BAA4B,CAAC,CACnCC,OAAO,CAACF,KAAK,CAACA,KAAK,CAAC,CACtB,CACF,CAAC,EAAE,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEhB,KAAA,QAAKmB,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BtB,IAAA,QAAKqB,SAAS,CAAC,2CAA2C,CAAAC,QAAA,cACxDtB,IAAA,OAAAsB,QAAA,CAAI,yDAAU,CAAI,CAAC,CAChB,CAAC,cAENtB,IAAA,QAAKqB,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAC9Bf,MAAM,CAACgB,GAAG,CAACC,IAAI,eACZtB,KAAA,QAAAoB,QAAA,eACEpB,KAAA,SAAMuB,KAAK,CAAE,CAAC,CAAE,CAAAH,QAAA,EAAEE,IAAI,CAACE,OAAO,CAAC,IAAE,CAACF,IAAI,CAACG,MAAM,CAAC,IAAE,CAACH,IAAI,CAACI,IAAI,CAAC,GAAC,EAAM,CAAC,cACnE5B,IAAA,QAAKyB,KAAK,CAAE,CAACI,MAAM,CAAE,MAAM,CAAE,CAAC,CAAC,cAC/B7B,IAAA,QAAKqB,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAC9BE,IAAI,CAACjB,MAAM,CAACgB,GAAG,CAAC,CAACC,IAAI,CAAEM,KAAK,gBACzB9B,IAAA,CAACJ,IAAI,CAAAmC,aAAA,EAAaC,OAAO,CAAEtB,SAAU,EAAKc,IAAI,CAACS,IAAI,EAAxCH,KAA2C,CACzD,CAAC,CACC,CAAC,EACH,CACR,CAAC,CACC,CAAC,EACH,CAAC,CAEV,CAEA,cAAe,CAAA3B,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}