{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import\"./AuthPage.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const API_BASE_URL='https://spotdiff.ru/fuji-api';const AuthPage=()=>{const[username,setUsername]=useState(\"\");const[password,setPassword]=useState(\"\");const[errorText,setErrorText]=useState(\"\");const[isChecked,setIsChecked]=useState(false);const handleCheckboxChange=event=>{setIsChecked(event.target.checked);};async function auth(){setErrorText(\"\");if(username===\"\"||password===\"\"){setErrorText(\"Заполните все поля\");}else{try{const response=await axios.post(API_BASE_URL+'/foods/login',{'username':username,'password':password});localStorage.setItem('access_token',response.data.accessToken);window.location.reload();}catch(e){console.log(e);setErrorText(e);}}}async function reg(){setErrorText(\"\");if(username===\"\"||password===\"\"){setErrorText(\"Заполните все поля\");}else{try{const response=await axios.post(API_BASE_URL+'/foods/register',{'username':username,'password':password});localStorage.setItem('access_token',response.data.accessToken);window.location.reload();}catch(e){console.log(e);setErrorText(e);}}}return/*#__PURE__*/_jsx(\"div\",{className:\"main\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"main-block\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"img/logo.png\",style:{width:\"90px\",height:\"90px\"}}),/*#__PURE__*/_jsx(\"div\",{className:\"block-info\",children:/*#__PURE__*/_jsx(\"div\",{className:\"button-block\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"block-text\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Food App\"}),/*#__PURE__*/_jsx(\"p\",{className:\"p-text-one\",children:\"\\u0412\\u0445\\u043E\\u0434 \\u0432 \\u043B\\u0438\\u0447\\u043D\\u044B\\u0439 \\u043A\\u0430\\u0431\\u0438\\u043D\\u0435\\u0442\"}),/*#__PURE__*/_jsx(\"p\",{className:\"p-text-error\",children:errorText}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"\\u0418\\u043C\\u044F\",value:username,onChange:event=>setUsername(event.target.value)}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"firstName\",children:\"\\u0418\\u043C\\u044F \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"password\",placeholder:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",value:password,onChange:event=>setPassword(event.target.value)}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-check\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"form-check-input\",id:\"customCheckbox\",checked:isChecked,onChange:handleCheckboxChange}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",htmlFor:\"customCheckbox\",children:\"\\u0421\\u043E\\u0433\\u043B\\u0430\\u0441\\u043D\\u044B \\u043D\\u0430 \\u0440\\u0430\\u0441\\u0441\\u044B\\u043B\\u043A\\u0443\"})]}),/*#__PURE__*/_jsx(\"button\",{id:\"auth_button\",className:\"a-link\",onClick:auth,children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"}),/*#__PURE__*/_jsx(\"button\",{className:\"password-reset-button\",onClick:reg,children:\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442\"})]})})})]})});};export default AuthPage;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","API_BASE_URL","AuthPage","username","setUsername","password","setPassword","errorText","setErrorText","isChecked","setIsChecked","handleCheckboxChange","event","target","checked","auth","response","post","localStorage","setItem","data","accessToken","window","location","reload","e","console","log","reg","className","children","src","style","width","height","type","placeholder","value","onChange","htmlFor","id","onClick"],"sources":["/Users/danilabelakov/WebstormProjects/fuji-web/src/pages/AuthPage.jsx"],"sourcesContent":["import React, { useState} from 'react';\nimport axios from 'axios';\nimport \"./AuthPage.css\";\n\nexport const API_BASE_URL = 'https://spotdiff.ru/fuji-api'\n\nconst AuthPage = () => {\n\n    const [username, setUsername] = useState(\"\")\n    const [password, setPassword] = useState(\"\")\n    const [errorText, setErrorText] = useState(\"\")\n\n    const [isChecked, setIsChecked] = useState(false);\n\n    const handleCheckboxChange = (event) => {\n        setIsChecked(event.target.checked);\n    };\n\n    async function auth() {\n        setErrorText(\"\")\n\n        if(username === \"\" || password === \"\") {\n            setErrorText(\"Заполните все поля\")\n        }else {\n            try {\n                const response = await axios.post(API_BASE_URL + '/foods/login', {\n                    'username': username,\n                    'password': password\n                })\n                localStorage.setItem('access_token', response.data.accessToken)\n                window.location.reload()\n            }catch (e) {\n                console.log(e)\n                setErrorText(e)\n            }\n        }\n    }\n\n    async function reg() {\n        setErrorText(\"\")\n\n        if(username === \"\" || password === \"\") {\n            setErrorText(\"Заполните все поля\")\n        }else {\n            try {\n                const response = await axios.post(API_BASE_URL + '/foods/register', {\n                    'username': username,\n                    'password': password\n                })\n                localStorage.setItem('access_token', response.data.accessToken)\n                window.location.reload()\n            }catch (e) {\n                console.log(e)\n                setErrorText(e)\n            }\n        }\n    }\n\n    return (\n        <div className=\"main\">\n            <div className=\"main-block\">\n                <img src=\"img/logo.png\" style={{width: \"90px\", height: \"90px\"}}/>\n                <div className=\"block-info\">\n                    <div className=\"button-block\">\n                        <div className=\"block-text\">\n                            <h1>Food App</h1>\n                            <p className=\"p-text-one\">Вход в личный кабинет</p>\n                            <p className=\"p-text-error\">{errorText}</p>\n\n                            <div className=\"form-floating\">\n                                <input\n                                    type=\"text\"\n                                    className=\"form-control\"\n                                    placeholder=\"Имя\"\n                                    value={username}\n                                    onChange={event => setUsername(event.target.value)}\n                                />\n                                <label htmlFor=\"firstName\">Имя пользователя</label>\n                            </div>\n\n                            <div className=\"form-floating\">\n                                <input\n                                    type=\"password\"\n                                    className=\"form-control\"\n                                    id=\"password\"\n                                    placeholder=\"Пароль\"\n                                    value={password}\n                                    onChange={event => setPassword(event.target.value)}\n                                />\n                                <label htmlFor=\"password\">Пароль</label>\n                            </div>\n\n                            <div className=\"form-check\">\n                                <input\n                                    type=\"checkbox\"\n                                    className=\"form-check-input\"\n                                    id=\"customCheckbox\"\n                                    checked={isChecked}\n                                    onChange={handleCheckboxChange}\n                                />\n                                <label className=\"form-check-label\" htmlFor=\"customCheckbox\">\n                                    Согласны на рассылку\n                                </label>\n                            </div>\n\n                            <button id=\"auth_button\" className=\"a-link\" onClick={auth}>Войти</button>\n                            <button className=\"password-reset-button\" onClick={reg}>Создать аккаунт</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default AuthPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}